<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Email Builder</title><style>body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:#f2eded;margin:0;padding:0;color:#fff}.container{width:100%;max-width:800px;margin:40px auto;background-color:#292424;padding:30px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.2)}h1{text-align:center;color:#64b5f6;margin-bottom:20px;font-size:2rem}h3{color:#fff;font-size:1.25rem;margin-bottom:10px}.preview{background-color:#1f1f1f;padding:20px;border-radius:8px;margin-top:30px;border:1px solid #444;min-height:200px}input[type=file],input[type=text],textarea{width:100%;padding:12px;margin-bottom:20px;border:1px solid #444;border-radius:8px;box-sizing:border-box;font-size:1rem;background-color:#080808;color:#fff;transition:border-color .3s ease}input[type=file]:focus,input[type=text]:focus,textarea:focus{border-color:#64b5f6;outline:0}textarea{resize:vertical;min-height:150px}button{background-color:#64b5f6;color:#fff;padding:12px 20px;border:none;border-radius:8px;cursor:pointer;font-size:1rem;margin-right:10px;transition:background-color .3s ease}button:hover{background-color:#42a5f5}button:disabled{background-color:#333;cursor:not-allowed}.button-group{display:flex;justify-content:space-between}#imagePreview{max-width:100%;height:auto;margin-top:20px;border-radius:8px}@media (max-width:768px){.container{padding:20px}h1{font-size:1.75rem}}</style><script defer="defer" src="/static/js/main.662326a0.js"></script><link href="/static/css/main.46160ca4.css" rel="stylesheet"></head><body><div class="container"><h1>Email Template Builder</h1><form id="emailForm"><input id="title" placeholder="Enter email title" required><br><textarea id="content" placeholder="Enter email content" rows="4" required></textarea><br><textarea id="footer" placeholder="Enter footer text" rows="2" required></textarea><br><input type="file" id="image" accept="image/*"><br><div class="button-group"><button type="button" id="saveButton" onclick="handleSaveTemplate()">Save Template</button> <button type="button" id="downloadButton" onclick="handleDownloadTemplate()">Download Template</button></div></form><div class="preview" id="preview-container"><h3>Preview:</h3><div id="email-preview"></div></div></div><script>let imageUrls=[];async function handleImageUpload(e){const t=e.target.files[0],n=new FormData;n.append("file",t);const a=await fetch("/uploadImage",{method:"POST",body:n}),o=await a.json();o.imageUrl&&(imageUrls.push(o.imageUrl),updatePreview())}function updatePreview(){const e=document.getElementById("title").value,t=document.getElementById("content").value,n=document.getElementById("footer").value;let a=`\n        <h1 style="color: #64b5f6;">${e}</h1>\n        <p style="font-size: 1rem; color: #ffffff;">${t}</p>\n        ${imageUrls.map((e=>`<img src="${e}" alt="Uploaded Image" style="max-width: 100%; margin-top: 10px;" />`)).join("")}\n        <footer style="font-size: 0.9rem; color: #ccc; margin-top: 20px;">${n}</footer>\n      `;document.getElementById("email-preview").innerHTML=a}async function handleSaveTemplate(){const e={title:document.getElementById("title").value,content:document.getElementById("content").value,footer:document.getElementById("footer").value,imageUrls:imageUrls};await fetch("/uploadEmailConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),alert("Template saved successfully!")}async function handleDownloadTemplate(){const e=document.getElementById("title").value,t=document.getElementById("content").value,n=document.getElementById("footer").value,a=await fetch("/renderAndDownloadTemplate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,content:t,footer:n,imageUrls:imageUrls})}),o=await a.blob(),l=document.createElement("a");l.href=URL.createObjectURL(o),l.download="email_template.html",l.click()}document.getElementById("image").addEventListener("change",handleImageUpload)</script></body></html>